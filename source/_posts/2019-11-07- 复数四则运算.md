---
title:  PTA复数四则运算    
date: 2019-11-07
author: SinclairWang
# img: 
top: false # 是否推荐
cover: false # 是否轮播
# password: 
toc: false
mathjax: false
# img: /source/images/xxx.jpg
tags:
    - PTA
categories:
	- PTA
---

本题要求编写程序，计算2个复数的和、差、积、商。

## 输入格式：
输入在一行中按照a1 b1 a2 b2的格式给出2个复数C1=a1+b1i和C2=a2+b2i的实部和虚部。题目保证C2不为0。

## 输出格式：
分别在4行中按照(a1+b1i) 运算符 (a2+b2i) = 结果的格式顺序输出2个复数的和、差、积、商，数字精确到小数点后1位。如果结果的实部或者虚部为0，则不输出。如果结果为0，则输出0.0。

## 输入样例1：
>2 3.08 -2.04 5.06

## 输出样例1：
>(2.0+3.1i) + (-2.0+5.1i) = 8.1i
(2.0+3.1i) - (-2.0+5.1i) = 4.0-2.0i
(2.0+3.1i) * (-2.0+5.1i) = -19.7+3.8i
(2.0+3.1i) / (-2.0+5.1i) = 0.4-0.6i

## 输入样例2：
>1 1 -1 -1.01

## 输出样例2：
>(1.0+1.0i) + (-1.0-1.0i) = 0.0
(1.0+1.0i) - (-1.0-1.0i) = 2.0+2.0i
(1.0+1.0i) * (-1.0-1.0i) = -2.0i
(1.0+1.0i) / (-1.0-1.0i) = -1.0

## 注意事项
我也是过早的考虑了代码复用，没有注意到格式的问题。
注意题目：**结果的格式顺序输出2个复数的和、差、积、商，数字精确到小数点后1位。如果结果的实部或者虚部为0，则不输出。如果结果为0，则输出0.0。**
等式左边输出时要保留小数点后一位，等式右边计算结果，如果实部或者虚部为0，则不输出。如果结果为0，则输出0.0。
参考：
- [7-36 复数四则运算](https://lightdream.xyz/complexCalc.html)
- [code](https://github.com/lightingmoon/BlogResourceCode/blob/master/%E5%A4%8D%E6%95%B0%E5%9B%9B%E5%88%99%E8%BF%90%E7%AE%97/complexCalc.cpp)

## 实现

```cpp
#include<iostream>
#include<string.h>
#include<math.h>
#include<vector>
using namespace std;
typedef long long ll;

#define rep(i,m,n) for(int i=m;i<n;i++)
#define rep1(i,m,n) for(int i=m;i>=n;i--)
#define print(a1,b1,c,a2,b2) printf("(%.1lf%+.1lfi) %c (%.1lf%+.1lfi) = ",a1,b1,c,a2,b2);
int gcd(int a,int b){ return b==0?a:gcd(b,a%b);}

void print1(double a,double b){
	if(abs(a)<0.05&&abs(b)<0.05)
		printf("0.0");
	else {
		if(abs(a)>=0.05) printf("%.1lf",a);
		if(abs(b)>=0.05){
			if(b>0&&abs(a)>=0.05) cout << "+";
			printf("%.1lfi",b);
		}
	}
}

int main(){
    double a,b,c,d;
    cin >> a >> b >> c >> d;
    print(a,b,'+',c,d);print1(a+c,b+d);cout << endl;
    print(a,b,'-',c,d);print1(a-c,b-d);cout << endl;
    print(a,b,'*',c,d);print1(a*c-b*d,a*d+b*c);cout << endl;
    print(a,b,'/',c,d);print1((a*c+b*d)/(c*c+d*d),(b*c-a*d)/(c*c+d*d));
	return 0;
}
```


一道题卡了多半个小时...