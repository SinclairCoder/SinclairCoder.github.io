---
title: PTA列车调度      
date: 2020-01-17
author: SinclairWang
# img: 
top: false # 是否推荐
cover: false # 是否轮播
# password: 
toc: false
mathjax: false
# img: /source/images/xxx.jpg
tags:
    - PTA
categories:
	- PTA
---
两端分别是一条入口（Entrance）轨道和一条出口（Exit）轨道，它们之间有N条平行的轨道。每趟列车从入口可以选择任意一条轨道进入，最后从出口离开。在图中有9趟列车，在入口处按照{8，4，2，5，3，9，1，6，7}的顺序排队等待进入。如果要求它们必须按序号递减的顺序从出口离开，则至少需要多少条平行铁轨用于调度？
## 输入格式：
输入第一行给出一个整数N ($2 ≤ N ≤10^5$​​ )，下一行给出从1到N的整数序号的一个重排列。数字间以空格分隔。

## 输出格式：
在一行中输出可以将输入的列车按序号递减的顺序调离所需要的最少的铁轨条数。

## 输入样例：
>9
8 4 2 5 3 9 1 6 7
## 输出样例：
>4

样例解释：
样例中的四条轨道如下：
第一条：2 4 8
第二条：1 3 5
第三条：6 9
第四条：7
利用stl中的set自动排序的特性，每次查找大于当前值的数，如果有就用当前值替换，没有就插入，最后集合的大小便为结果。
```cpp
#include<iostream>
#include<cstring>
#include<vector>
#include<algorithm>
#include<stack>
#include<queue>
#include<map>
#include<list>
#include<set>
#include<cmath>
using namespace std;
typedef long long ll;

#define N 1000002

int main(){
	int n,num;
	cin >> n;
	set<int> s;
    set<int>::iterator it;
	for(int i=0;i<n;i++){
		cin >> num;
        it = s.upper_bound(num);
		if(it!=s.end()){
			s.erase(it);
		}
		s.insert(num);
	}
	cout << s.size();
	return 0;
}
```