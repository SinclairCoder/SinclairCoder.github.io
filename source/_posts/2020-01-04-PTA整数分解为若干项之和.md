---
title:   PTA整数分解为若干项之和   
date: 2020-01-04
author: SinclairWang
# img: 
top: false # 是否推荐
cover: false # 是否轮播
# password: 
toc: false
mathjax: false
# img: /source/images/xxx.jpg
tags:
    - DFS
categories:
	- PTA
---

## Problem
将一个正整数N分解成几个正整数相加，可以有多种分解方法，例如7=6+1，7=5+2，7=5+1+1，…。编程求出正整数N的所有整数分解式子。
## 输入格式：
每个输入包含一个测试用例，即正整数N (0<N≤30)。

## 输出格式：
按递增顺序输出N的所有整数分解式子。每个式子由小到大相加，式子间用分号隔开，且每输出4个式子后换行。
## 输入样例：
>7

## 输出样例：

>7=1+1+1+1+1+1+1;7=1+1+1+1+1+2;7=1+1+1+1+3;7=1+1+1+2+2
7=1+1+1+4;7=1+1+2+3;7=1+1+5;7=1+2+2+2
7=1+2+4;7=1+3+3;7=1+6;7=2+2+3
7=2+5;7=3+4;7=7

```cpp
#include<iostream>
#include<cstring>
#include<vector>
#include<algorithm>
#include<stack>
#include<map>

using namespace std;

#define rep(i,m,n) for(int i=m;i<n;i++)
#define rep1(i,m,n) for(int i=m;i>=n;i--)
int res[1000];
int n,pos,sum,cnt;
void dfs(int x){
	if(sum==n){
		cnt++;
		cout << n << "=" << res[0];
		for(int i=1;i<pos;i++){
			if(res[i])
			cout << "+" << res[i];
		}
		// 每四个一换行，当到了最后一个也要换行，不能输出分号
		if(cnt%4==0&&cnt||res[pos-1]==n) cout << endl;
		else cout << ";";
		return ;
	}
	else if(sum>n) return ;
	for(int i=x;i<=n;i++){
		res[pos++] = i;
		sum += i;
		dfs(i);
		sum -= i;
		pos--;
	}
}
int main(){
	cin >> n;
	dfs(1);
	return 0;
}
```
